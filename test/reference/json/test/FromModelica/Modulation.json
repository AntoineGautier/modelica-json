{"within":"FromModelica","class_definition":[{"class_prefixes":"block","class_specifier":{"long_class_specifier":{"identifier":"Modulation","description_string":"Outdoor and return air damper position modulation sequence for multi zone VAV AHU","composition":{"element_list":[{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"-0.25"}}},"description":{"description_string":"Lower limit of controller input when outdoor damper opens (see diagram)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"+0.25"}}},"description":{"description_string":"Upper limit of controller input when return damper is closed (see diagram)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uOutDamMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"-1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"(uMin +uMax)/2"}}},"description":{"description_string":"Maximum loop signal for the OA damper to be fully open","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uRetDamMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"-1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"(uMin +uMax)/2"}}},"description":{"description_string":"Minimum loop signal for the RA damper to be fully open","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Modelica.SIunits.Time","component_list":[{"declaration":{"identifier":"samplePeriod","modification":{"equal":true,"expression":{"simple_expression":"300"}}},"description":{"description_string":"Sample period of component, used to limit the rate of change of the dampers (to avoid quick opening that can result in frost)"}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uTSup","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Signal for supply air temperature control (T Sup Control Loop Signal in diagram)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-160,"y":-20},{"x":-120,"y":20}]},"iconTransformation":{"extent":[{"x":-120,"y":-10},{"x":-100,"y":10}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uOutDamPosMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Minimum economizer damper position limit as returned by the damper position limits  sequence","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-160,"y":-120},{"x":-120,"y":-80}]},"iconTransformation":{"extent":[{"x":-120,"y":-90},{"x":-100,"y":-70}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uOutDamPosMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Maximum economizer damper position limit as returned by the economizer enable-disable sequence.\n    If the economizer is disabled, this value equals uOutDamPosMin","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-160,"y":-70},{"x":-120,"y":-30}]},"iconTransformation":{"extent":[{"x":-120,"y":-50},{"x":-100,"y":-30}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uRetDamPosMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Minimum return air damper position limit as returned by the economizer enable-disable sequence","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-160,"y":30},{"x":-120,"y":70}]},"iconTransformation":{"extent":[{"x":-120,"y":30},{"x":-100,"y":50}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uRetDamPosMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Maximum return air damper position limit as returned by the economizer enable-disable sequence","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-160,"y":80},{"x":-120,"y":120}]},"iconTransformation":{"extent":[{"x":-120,"y":70},{"x":-100,"y":90}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealOutput","component_list":[{"declaration":{"identifier":"yOutDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Economizer damper position","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":120,"y":-70},{"x":140,"y":-50}]},"iconTransformation":{"extent":[{"x":100,"y":-30},{"x":120,"y":-10}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealOutput","component_list":[{"declaration":{"identifier":"yRetDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Return air damper position","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":120,"y":50},{"x":140,"y":70}]},"iconTransformation":{"extent":[{"x":100,"y":10},{"x":120,"y":30}]}}}}}]}}]}}],"element_sections":[{"protected_element_list":[{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"outDamMinLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uMin"}}}}}]}},"description":{"description_string":"Minimal control loop signal for the outdoor air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-60,"y":-32},{"x":-40,"y":-12}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"outDamMaxLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uOutDamMax"}}}}}]}},"description":{"description_string":"Maximum control loop signal for the outdoor air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-100,"y":-60},{"x":-80,"y":-40}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"retDamConMinLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uRetDamMin"}}}}}]}},"description":{"description_string":"Minimal control loop signal for the return air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-80,"y":68},{"x":-60,"y":88}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"retDamMaxLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uMax"}}}}}]}},"description":{"description_string":"Maximal control loop signal for the return air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-60,"y":10},{"x":-40,"y":30}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Line","component_list":[{"declaration":{"identifier":"outDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitBelow","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitAbove","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}}]}},"description":{"description_string":"Damper position is linearly proportional to the control signal between signal limits","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":0,"y":-40},{"x":20,"y":-20}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Line","component_list":[{"declaration":{"identifier":"retDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitBelow","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitAbove","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}}]}},"description":{"description_string":"Damper position is linearly proportional to the control signal between signal limits","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":0,"y":60},{"x":20,"y":80}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Min","component_list":[{"declaration":{"identifier":"min"},"description":{"description_string":"Overwrite due to freeze protection","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":60,"y":-70},{"x":80,"y":-50}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Max","component_list":[{"declaration":{"identifier":"max"},"description":{"description_string":"Overwrite due to freeze protection","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":60,"y":50},{"x":80,"y":70}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Discrete.FirstOrderHold","component_list":[{"declaration":{"identifier":"firOrdHolOutDam","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"samplePeriod","modification":{"equal":true,"expression":{"simple_expression":"samplePeriod"}}}}}]}},"description":{"description_string":"First order hold to avoid too fast opening/closing of damper (which may cause freeze protection to be too slow to compensate)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":92,"y":-70},{"x":112,"y":-50}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Discrete.FirstOrderHold","component_list":[{"declaration":{"identifier":"firOrdHolRetDam","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"samplePeriod","modification":{"equal":true,"expression":{"simple_expression":"samplePeriod"}}}}}]}},"description":{"description_string":"First order hold to avoid too fast opening/closing of damper (which may cause freeze protection to be too slow to compensate)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":90,"y":50},{"x":110,"y":70}]}}}}}]}}]}}]},{"equation_section":{"equation":[{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"x2"}],"to":[{"dot_op":false,"identifier":"outDamMaxLimSig"},{"dot_op":true},{"dot_op":false,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":-34},{"x":-30,"y":-34},{"x":-30,"y":-50},{"x":-79,"y":-50}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"x1"}],"to":[{"dot_op":false,"identifier":"outDamMinLimSig"},{"dot_op":true},{"dot_op":false,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":-22},{"x":-39,"y":-22}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"f1"}],"to":[{"dot_op":false,"identifier":"uOutDamPosMin"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":-26},{"x":-24,"y":-26},{"x":-24,"y":-100},{"x":-140,"y":-100}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"f2"}],"to":[{"dot_op":false,"identifier":"uOutDamPosMax"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":-38},{"x":-20,"y":-38},{"x":-20,"y":-66},{"x":-108,"y":-66},{"x":-108,"y":-50},{"x":-140,"y":-50}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"x2"}],"to":[{"dot_op":false,"identifier":"retDamMaxLimSig"},{"dot_op":true},{"dot_op":false,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":66},{"x":-28,"y":66},{"x":-28,"y":20},{"x":-39,"y":20}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"x1"}],"to":[{"dot_op":false,"identifier":"retDamConMinLimSig"},{"dot_op":true},{"dot_op":false,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":78},{"x":-59,"y":78}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"f1"}],"to":[{"dot_op":false,"identifier":"uRetDamPosMax"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":74},{"x":-48,"y":74},{"x":-48,"y":100},{"x":-140,"y":100}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"f2"}],"to":[{"dot_op":false,"identifier":"uRetDamPosMin"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-2,"y":62},{"x":-12,"y":62},{"x":-12,"y":50},{"x":-140,"y":50}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"min"},{"dot_op":true},{"dot_op":false,"identifier":"u2"}],"to":[{"dot_op":false,"identifier":"uOutDamPosMax"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":58,"y":-66},{"x":-108,"y":-66},{"x":-108,"y":-50},{"x":-140,"y":-50}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"min"},{"dot_op":true},{"dot_op":false,"identifier":"u1"}],"to":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":58,"y":-54},{"x":28,"y":-54},{"x":28,"y":-30},{"x":21,"y":-30}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"max"},{"dot_op":true},{"dot_op":false,"identifier":"u1"}],"to":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":58,"y":66},{"x":30,"y":66},{"x":30,"y":70},{"x":21,"y":70}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"uRetDamPosMin"}],"to":[{"dot_op":false,"identifier":"max"},{"dot_op":true},{"dot_op":false,"identifier":"u2"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-140,"y":50},{"x":-12,"y":50},{"x":-12,"y":54},{"x":58,"y":54}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"min"},{"dot_op":true},{"dot_op":false,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"firOrdHolOutDam"},{"dot_op":true},{"dot_op":false,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":81,"y":-60},{"x":90,"y":-60}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"firOrdHolOutDam"},{"dot_op":true},{"dot_op":false,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"yOutDamPos"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":113,"y":-60},{"x":130,"y":-60}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"uTSup"}],"to":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-140,"y":0},{"x":-22,"y":0},{"x":-22,"y":70},{"x":-2,"y":70}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"uTSup"}],"to":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true},{"dot_op":false,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-140,"y":0},{"x":-22,"y":0},{"x":-22,"y":-30},{"x":-2,"y":-30}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"max"},{"dot_op":true},{"dot_op":false,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"firOrdHolRetDam"},{"dot_op":true},{"dot_op":false,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":81,"y":60},{"x":88,"y":60}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"firOrdHolRetDam"},{"dot_op":true},{"dot_op":false,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"yRetDamPos"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":111,"y":60},{"x":130,"y":60}],"color":{"r":0,"g":0,"b":127}}}}}]}}]}}],"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"defaultComponentName","modification":{"equal":true,"expression":{"simple_expression":"\"mod\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Icon","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"graphics":[{"name":"Rectangle","attribute":{"extent":[{"x":-100,"y":-100},{"x":100,"y":100}],"lineColor":{"r":0,"g":0,"b":127},"fillColor":{"r":255,"g":255,"b":255},"fillPattern":"FillPattern.Solid"}},{"name":"Line","attribute":{"points":[{"x":20,"y":58}],"color":{"r":28,"g":108,"b":200}}},{"name":"Line","attribute":{"points":[{"x":-92,"y":-84},{"x":-50,"y":-84},{"x":12,"y":70},{"x":82,"y":70}],"color":{"r":0,"g":0,"b":127},"thickness":0.5}},{"name":"Line","attribute":{"points":[{"x":-66,"y":58},{"x":12,"y":58},{"x":50,"y":-76},{"x":100,"y":-76}],"color":{"r":0,"g":0,"b":127},"pattern":"LinePattern.Dash","thickness":0.5}},{"name":"Text","attribute":{"extent":[{"x":-108,"y":138},{"x":102,"y":110}],"textString":"\"%name\"","lineColor":{"r":0,"g":0,"b":127}}}]}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Diagram","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"coordinateSystem":{"extent":[{"x":-120,"y":-120},{"x":120,"y":120}],"preserveAspectRatio":"false"}}}},{"element_modification_or_replaceable":{"element_modification":{"graphics":[{"name":"Rectangle","attribute":{"extent":[{"x":-26,"y":118},{"x":46,"y":-118}],"lineColor":{"r":0,"g":0,"b":0},"fillColor":{"r":215,"g":215,"b":215},"fillPattern":"FillPattern.Solid"}},{"name":"Rectangle","attribute":{"extent":[{"x":-118,"y":118},{"x":-34,"y":-118}],"lineColor":{"r":0,"g":0,"b":0},"fillColor":{"r":215,"g":215,"b":215},"fillPattern":"FillPattern.Solid"}},{"name":"Text","attribute":{"extent":[{"x":-80,"y":128},{"x":-36,"y":88}],"textString":"\"Damper position\nsupply air temperature\ncontrol loop\"","fontSize":12,"horizontalAlignment":"TextAlignment.Left","lineColor":{"r":0,"g":0,"b":0}}},{"name":"Text","attribute":{"extent":[{"x":-20,"y":128},{"x":24,"y":88}],"textString":"\"Damper position\nassignments\"","fontSize":12,"horizontalAlignment":"TextAlignment.Left","lineColor":{"r":0,"g":0,"b":0}}},{"name":"Rectangle","attribute":{"extent":[{"x":52,"y":118},{"x":118,"y":-118}],"lineColor":{"r":0,"g":0,"b":0},"fillColor":{"r":215,"g":215,"b":215},"fillPattern":"FillPattern.Solid"}},{"name":"Text","attribute":{"extent":[{"x":58,"y":124},{"x":102,"y":84}],"textString":"\"Overwrite if the freeze protection\nthat tracks TFre at the measured\nmixed air temperature limits the\ndamper position\"","fontSize":12,"horizontalAlignment":"TextAlignment.Left","lineColor":{"r":0,"g":0,"b":0}}}]}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Documentation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"info","modification":{"equal":true,"expression":{"simple_expression":"\"<html>\n<p>\nThis is a multi zone VAV AHU economizer modulation block. It calculates\nthe outdoor and return air damper positions based on the supply air temperature\ncontrol loop signal. The implementation is in line with ASHRAE\nGuidline 36 (G36), PART5.N.2.c. Damper positions are linearly mapped to\nthe supply air control loop signal. This is a final sequence in the\ncomposite multi zone VAV AHU economizer control sequence. Damper position\nlimits, which are the inputs to the sequence, are the outputs of\n<a href=\\\"modelica://Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Limits\\\">\nBuildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Limits</a> and\n<a href=\\\"modelica://Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Enable\\\">\nBuildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Enable</a>\nsequences.\n</p>\n<p>\nWhen the economizer is enabled, the PI controller modulates the damper\npositions. Return and outdoor damper are not interlocked. When the economizer is disabled,\nthe damper positions are set to the minimum outdoor air damper position limits.\n</p>\n<p>\nThe time rate of change of the damper signals is limited by a first order hold,\nusing the sample time <code>samplePeriod</code>.\nThis prevents a quick opening of the outdoor air damper, for example when the\noutdoor airflow setpoint has a step change.\nSlowing down the opening of the outdoor air damper allows the freeze protection\nto componensate with its dynamics that is faster than the opening of the outdoor air damper.\nTo avoid that all dampers are closed, the return air damper has the same\ntime rate of change limitation.\n</p>\n<p>\nThe control charts below show the input-output structure and an economizer damper\nmodulation sequence assuming a well configured controller. Control diagram:\n</p>\n<p align=\\\"center\\\">\n<img alt=\\\"Image of the multi zone AHU modulation sequence control diagram\\\"\nsrc=\\\"modelica://Buildings/Resources/Images/Controls/OBC/ASHRAE/G36_PR1/AHUs/MultiZone/EconModulationControlDiagram.png\\\"/>\n</p>\n<p>\nMulti zone AHU economizer modulation control chart:\n<br/>\n</p>\n<p align=\\\"center\\\">\n<img alt=\\\"Image of the multi zone AHU modulation sequence expected performance\\\"\nsrc=\\\"modelica://Buildings/Resources/Images/Controls/OBC/ASHRAE/G36_PR1/AHUs/MultiZone/EconModulationControlChart.png\\\"/>\n</p>\n</html>\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"revisions","modification":{"equal":true,"expression":{"simple_expression":"\"<html>\n<ul>\n<li>\nOctober 13, 2017, by Michael Wetter:<br/>\nCorrected implementation for when dampers are\nsuch positioned that they prevent the mixed air temperature from being\nbelow the freezing set point.\n</li>\n<li>\nOctober 11, 2017, by Michael Wetter:<br/>\nCorrected implementation to use control loop signal as input.\n</li>\n<li>\nSeptember 29, 2017, by Michael Wetter:<br/>\nCorrected implementation by adding reverse action.\n</li>\n<li>\nJune 28, 2017, by Milica Grahovac:<br/>\nFirst implementation.\n</li>\n</ul>\n</html>\""}}}}}]}}}}]}}}}],"modelicaFile":"test/FromModelica/Modulation.mo","fullMoFilePath":"/Users/akprakash/Programming/modelica/modelica-json/test/FromModelica/Modulation.mo","checksum":"110406db52a4f977c297899fdd38fd46"}