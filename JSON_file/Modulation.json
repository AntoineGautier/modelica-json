{"within":"FromModelica","class_definition":[{"final":true,"encapsulated":false,"class_prefixes":"expandable connector","class_specifier":{"long_class_specifier":{"identifier":"Modulation","description_string":"Outdoor and return air damper position modulation sequence for multi zone VAV AHU","composition":{"element_list":[{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"-0.25"}}},"description":{"description_string":"Lower limit of controller input when outdoor damper opens (see diagram)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"+0.25"}}},"description":{"description_string":"Upper limit of controller input when return damper is closed (see diagram)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uOutDamMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"-1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"(uMin +uMin)/2"}}},"description":{"description_string":"Maximum loop signal for the OA damper to be fully open","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"uRetDamMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"-1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}],"equal":true,"expression":{"simple_expression":"(uMin +uMin)/2"}}},"description":{"description_string":"Minimum loop signal for the RA damper to be fully open","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Evaluate","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Dialog","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"tab","modification":{"equal":true,"expression":{"simple_expression":"\"Commissioning\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"group","modification":{"equal":true,"expression":{"simple_expression":"\"Controller\""}}}}}]}}}}]}}]}},{"component_clause":{"type_prefix":"parameter","type_specifier":"Modelica.SIunits.Time","component_list":[{"declaration":{"identifier":"samplePeriod","modification":{"equal":true,"expression":{"simple_expression":"300"}}},"description":{"description_string":"Sample period of component, used to limit the rate of change of the dampers (to avoid quick opening that can result in frost)"}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uTSup","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Signal for supply air temperature control (T Sup Control Loop Signal in diagram)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-160,-20},{-120,20}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"iconTransformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-120,-10},{-100,10}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uOutDamPosMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Minimum economizer damper position limit as returned by the damper position limits  sequence","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-160,-120},{-120,-80}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"iconTransformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-120,-90},{-100,-70}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uOutDamPosMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Maximum economizer damper position limit as returned by the economizer enable-disable sequence.\n    If the economizer is disabled, this value equals uOutDamPosMin","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-160,-70},{-120,-30}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"iconTransformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-120,-50},{-100,-30}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uRetDamPosMin","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Minimum return air damper position limit as returned by the economizer enable-disable sequence","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-160,30},{-120,70}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"iconTransformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-120,30},{-100,50}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uRetDamPosMax","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Maximum return air damper position limit as returned by the economizer enable-disable sequence","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-160,80},{-120,120}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"iconTransformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-120,70},{-100,90}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealOutput","component_list":[{"declaration":{"identifier":"yOutDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Economizer damper position","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{120,-70},{140,-50}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"iconTransformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{100,-30},{120,-10}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealOutput","component_list":[{"declaration":{"identifier":"yRetDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Return air damper position","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{120,50},{140,70}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"iconTransformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{100,10},{120,30}}"}}}}}]}}}}]}}}}]}}]}}],"element_sections":[{"protected_element_list":[{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"outDamMinLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uMin"}}}}}]}},"description":{"description_string":"Minimal control loop signal for the outdoor air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-60,-32},{-40,-12}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"outDamMaxLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uOutDamMax"}}}}}]}},"description":{"description_string":"Maximum control loop signal for the outdoor air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-100,-60},{-80,-40}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"retDamConMinLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uRetDamMin"}}}}}]}},"description":{"description_string":"Minimal control loop signal for the return air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-80,68},{-60,88}}"}}}}}]}}}}]}}}}]}}]}}]},{"equation_section":{"initial":true,"equation":[{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true,"identifier":"x2"}],"to":[{"dot_op":false,"identifier":"outDamMaxLimSig"},{"dot_op":true,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,-34},{-30,-34},{-30,-50},{-79,-50}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true,"identifier":"x1"}],"to":[{"dot_op":false,"identifier":"outDamMinLimSig"},{"dot_op":true,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,-22},{-39,-22}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}}]}},{"public_element_list":[{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Sources.Constant","component_list":[{"declaration":{"identifier":"retDamMaxLimSig","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"uMax"}}}}}]}},"description":{"description_string":"Maximal control loop signal for the return air damper","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-60,10},{-40,30}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Line","component_list":[{"declaration":{"identifier":"outDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitBelow","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitAbove","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}}]}},"description":{"description_string":"Damper position is linearly proportional to the control signal between signal limits","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{0,-40},{20,-20}}"}}}}}]}}}}]}}}}]}}]}}]},{"protected_element_list":[{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Line","component_list":[{"declaration":{"identifier":"retDamPos","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitBelow","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"limitAbove","modification":{"equal":true,"expression":{"simple_expression":"true"}}}}}]}},"description":{"description_string":"Damper position is linearly proportional to the control signal between signal limits","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{0,60},{20,80}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Min","component_list":[{"declaration":{"identifier":"min"},"description":{"description_string":"Overwrite due to freeze protection","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{60,-70},{80,-50}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Continuous.Max","component_list":[{"declaration":{"identifier":"max"},"description":{"description_string":"Overwrite due to freeze protection","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{60,50},{80,70}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Discrete.FirstOrderHold","component_list":[{"declaration":{"identifier":"firOrdHolOutDam","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"samplePeriod","modification":{"equal":true,"expression":{"simple_expression":"samplePeriod"}}}}}]}},"description":{"description_string":"First order hold to avoid too fast opening/closing of damper (which may cause freeze protection to be too slow to compensate)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{92,-70},{112,-50}}"}}}}}]}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Discrete.FirstOrderHold","component_list":[{"declaration":{"identifier":"firOrdHolRetDam","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"samplePeriod","modification":{"equal":true,"expression":{"simple_expression":"samplePeriod"}}}}}]}},"description":{"description_string":"First order hold to avoid too fast opening/closing of damper (which may cause freeze protection to be too slow to compensate)","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Placement","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"transformation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{90,50},{110,70}}"}}}}}]}}}}]}}}}]}}]}}]},{"equation_section":{"equation":[{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true,"identifier":"f1"}],"to":[{"dot_op":false,"identifier":"uOutDamPosMin"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,-26},{-24,-26},{-24,-100},{-140,-100}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true,"identifier":"f2"}],"to":[{"dot_op":false,"identifier":"uOutDamPosMax"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,-38},{-20,-38},{-20,-66},{-108,-66},{-108,-50},{-140,-50}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true,"identifier":"x2"}],"to":[{"dot_op":false,"identifier":"retDamMaxLimSig"},{"dot_op":true,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,66},{-28,66},{-28,20},{-39,20}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true,"identifier":"x1"}],"to":[{"dot_op":false,"identifier":"retDamConMinLimSig"},{"dot_op":true,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,78},{-59,78}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true,"identifier":"f1"}],"to":[{"dot_op":false,"identifier":"uRetDamPosMax"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,74},{-48,74},{-48,100},{-140,100}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true,"identifier":"f2"}],"to":[{"dot_op":false,"identifier":"uRetDamPosMin"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-2,62},{-12,62},{-12,50},{-140,50}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"min"},{"dot_op":true,"identifier":"u2"}],"to":[{"dot_op":false,"identifier":"uOutDamPosMax"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{58,-66},{-108,-66},{-108,-50},{-140,-50}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"min"},{"dot_op":true,"identifier":"u1"}],"to":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{58,-54},{28,-54},{28,-30},{21,-30}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"max"},{"dot_op":true,"identifier":"u1"}],"to":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true,"identifier":"y"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{58,66},{30,66},{30,70},{21,70}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"uRetDamPosMin"}],"to":[{"dot_op":false,"identifier":"max"},{"dot_op":true,"identifier":"u2"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-140,50},{-12,50},{-12,54},{58,54}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"min"},{"dot_op":true,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"firOrdHolOutDam"},{"dot_op":true,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{81,-60},{90,-60}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"firOrdHolOutDam"},{"dot_op":true,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"yOutDamPos"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{113,-60},{130,-60}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"uTSup"}],"to":[{"dot_op":false,"identifier":"retDamPos"},{"dot_op":true,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-140,0},{-22,0},{-22,70},{-2,70}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"uTSup"}],"to":[{"dot_op":false,"identifier":"outDamPos"},{"dot_op":true,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{-140,0},{-22,0},{-22,-30},{-2,-30}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"max"},{"dot_op":true,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"firOrdHolRetDam"},{"dot_op":true,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{81,60},{88,60}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"firOrdHolRetDam"},{"dot_op":true,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"yRetDamPos"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"Line","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"points","modification":{"equal":true,"expression":{"simple_expression":"{{111,60},{130,60}}"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"color","modification":{"equal":true,"expression":{"simple_expression":"{0,0,127}"}}}}}]}}}}]}}]}}],"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"defaultComponentName","modification":{"equal":true,"expression":{"simple_expression":"\"mod\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Icon","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"graphics","modification":{"equal":true,"expression":{"simple_expression":"{Rectangle(extent={{-100,-100},{100,100}},lineColor={0,0,127},fillColor={255,255,255},fillPattern=FillPattern.Solid),Line(points={{20,58}},color={28,108,200}),Line(points={{-92,-84},{-50,-84},{12,70},{82,70}},color={0,0,127},thickness=0.5),Line(points={{-66,58},{12,58},{50,-76},{100,-76}},color={0,0,127},pattern=LinePattern.Dash,thickness=0.5),Text(extent={{-108,138},{102,110}},lineColor={0,0,127},textString=\"%name\")}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Diagram","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"coordinateSystem","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"preserveAspectRatio","modification":{"equal":true,"expression":{"simple_expression":"false"}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"extent","modification":{"equal":true,"expression":{"simple_expression":"{{-120,-120},{120,120}}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"graphics","modification":{"equal":true,"expression":{"simple_expression":"{Rectangle(extent={{-26,118},{46,-118}},lineColor={0,0,0},fillColor={215,215,215},fillPattern=FillPattern.Solid),Rectangle(extent={{-118,118},{-34,-118}},lineColor={0,0,0},fillColor={215,215,215},fillPattern=FillPattern.Solid),Text(extent={{-80,128},{-36,88}},lineColor={0,0,0},fontSize=12,horizontalAlignment=TextAlignment.Left,textString=\"Damper position\nsupply air temperature\ncontrol loop\"),Text(extent={{-20,128},{24,88}},lineColor={0,0,0},fontSize=12,horizontalAlignment=TextAlignment.Left,textString=\"Damper position\nassignments\"),Rectangle(extent={{52,118},{118,-118}},lineColor={0,0,0},fillColor={215,215,215},fillPattern=FillPattern.Solid),Text(extent={{58,124},{102,84}},lineColor={0,0,0},fontSize=12,horizontalAlignment=TextAlignment.Left,textString=\"Overwrite if the freeze protection\nthat tracks TFre at the measured\nmixed air temperature limits the\ndamper position\")}"}}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Documentation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"info","modification":{"equal":true,"expression":{"simple_expression":"\"<html>\n<p>\nThis is a multi zone VAV AHU economizer modulation block. It calculates\nthe outdoor and return air damper positions based on the supply air temperature\ncontrol loop signal. The implementation is in line with ASHRAE\nGuidline 36 (G36), PART5.N.2.c. Damper positions are linearly mapped to\nthe supply air control loop signal. This is a final sequence in the\ncomposite multi zone VAV AHU economizer control sequence. Damper position\nlimits, which are the inputs to the sequence, are the outputs of\n<a href=\\\"modelica://Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Limits\\\">\nBuildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Limits</a> and\n<a href=\\\"modelica://Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Enable\\\">\nBuildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.VAV.Economizers.Subsequences.Enable</a>\nsequences.\n</p>\n<p>\nWhen the economizer is enabled, the PI controller modulates the damper\npositions. Return and outdoor damper are not interlocked. When the economizer is disabled,\nthe damper positions are set to the minimum outdoor air damper position limits.\n</p>\n<p>\nThe time rate of change of the damper signals is limited by a first order hold,\nusing the sample time <code>samplePeriod</code>.\nThis prevents a quick opening of the outdoor air damper, for example when the\noutdoor airflow setpoint has a step change.\nSlowing down the opening of the outdoor air damper allows the freeze protection\nto componensate with its dynamics that is faster than the opening of the outdoor air damper.\nTo avoid that all dampers are closed, the return air damper has the same\ntime rate of change limitation.\n</p>\n<p>\nThe control charts below show the input-output structure and an economizer damper\nmodulation sequence assuming a well configured controller. Control diagram:\n</p>\n<p align=\\\"center\\\">\n<img alt=\\\"Image of the multi zone AHU modulation sequence control diagram\\\"\nsrc=\\\"modelica://Buildings/Resources/Images/Controls/OBC/ASHRAE/G36_PR1/AHUs/MultiZone/EconModulationControlDiagram.png\\\"/>\n</p>\n<p>\nMulti zone AHU economizer modulation control chart:\n<br/>\n</p>\n<p align=\\\"center\\\">\n<img alt=\\\"Image of the multi zone AHU modulation sequence expected performance\\\"\nsrc=\\\"modelica://Buildings/Resources/Images/Controls/OBC/ASHRAE/G36_PR1/AHUs/MultiZone/EconModulationControlChart.png\\\"/>\n</p>\n</html>\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"revisions","modification":{"equal":true,"expression":{"simple_expression":"\"<html>\n<ul>\n<li>\nOctober 13, 2017, by Michael Wetter:<br/>\nCorrected implementation for when dampers are\nsuch positioned that they prevent the mixed air temperature from being\nbelow the freezing set point.\n</li>\n<li>\nOctober 11, 2017, by Michael Wetter:<br/>\nCorrected implementation to use control loop signal as input.\n</li>\n<li>\nSeptember 29, 2017, by Michael Wetter:<br/>\nCorrected implementation by adding reverse action.\n</li>\n<li>\nJune 28, 2017, by Milica Grahovac:<br/>\nFirst implementation.\n</li>\n</ul>\n</html>\""}}}}}]}}}}]}}}},{"final":false,"encapsulated":false,"class_prefixes":"block","class_specifier":{"long_class_specifier":{"identifier":"Modulation2","description_string":"Outdoor and return air damper position modulation sequence for multi zone VAV AHU"}}},{"final":true,"encapsulated":false,"class_prefixes":"block","class_specifier":{"long_class_specifier":{"identifier":"Modulation3","description_string":"Outdoor and return air damper position modulation sequence for multi zone VAV AHU"}}}],"modelicaFile":"testMo/Modulation.mo"}